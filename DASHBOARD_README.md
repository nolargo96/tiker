# 🚀 Tiker Interactive Dashboard

## 概要

Tiker Interactive Dashboardは、9銘柄の米国株ポートフォリオに対して、**4専門家AI（TECH/FUND/MACRO/RISK）による総合分析**を基に、**最適なエントリータイミング**を判定するWebアプリケーションです。

### 主な特徴

- 🎯 **明確なエントリーシグナル**: BUY/HOLD/SELLを5段階で表示
- 📊 **4専門家スコア統合**: テクニカル・ファンダメンタル・マクロ・リスクの総合判断
- 📈 **インタラクティブチャート**: Plotlyによる高機能チャート
- ⚡ **リアルタイム更新**: ワンクリックで最新データ取得
- 🎨 **直感的UI**: 色分けされたシグナルとゲージ表示

## セットアップ手順

### 1. 必要な環境

- Python 3.8以上
- pip または uv (推奨)

### 2. 簡単インストール

#### オプション1: pip を使用
```bash
cd tiker/
pip install -r requirements.txt
```

#### オプション2: uv を使用（高速）
```bash
cd tiker/
uv pip install -r requirements.txt
```

#### オプション3: 仮想環境を使用
```bash
cd tiker/

# 仮想環境作成
python -m venv venv

# 仮想環境有効化 (Windows)
venv\Scripts\activate

# 仮想環境有効化 (Mac/Linux)
source venv/bin/activate

# ライブラリインストール
pip install -r requirements.txt
```

### 3. ダッシュボード起動

```bash
# 基本版（シンプル）
streamlit run dashboard.py

# 強化版（4専門家統合・推奨）
streamlit run dashboard_enhanced.py
```

ブラウザが自動的に開き、`http://localhost:8501` でダッシュボードが表示されます。

## 使い方

### エントリーシグナルの見方

| シグナル | アイコン | スコア | 推奨アクション |
|---------|---------|--------|---------------|
| **絶好の買い場** | 🟢🟢 | 4.0以上 | 積極的にエントリー検討 |
| **買い推奨** | 🟢 | 3.5-4.0 | エントリー検討 |
| **様子見** | 🟡 | 2.5-3.5 | 現状維持・追加購入は控える |
| **売却検討** | 🔴 | 2.0-2.5 | 部分的な利確検討 |
| **即売却推奨** | 🔴🔴 | 2.0未満 | 速やかに売却検討 |

### 主要機能

#### 1. ポートフォリオ総合ビュー
- 全9銘柄のエントリーシグナル一覧
- シグナル分布の円グラフ
- 4専門家スコアのレーダーチャート比較

#### 2. 個別銘柄分析
- **エントリータイミングゲージ**: 視覚的なタイミング表示
- **4専門家スコアバー**: 各分析の詳細スコア
- **ポジティブ/ネガティブ要因**: 判断根拠の明示
- **インタラクティブチャート**: ローソク足、出来高、RSI、移動平均線

#### 3. カスタマイズ機能
- **分析期間**: 30日〜365日で調整可能
- **銘柄選択**: 分析対象を自由に選択
- **表示設定**: テクニカル指標のON/OFF

## エントリー判定ロジック

### 4専門家の重み付け
- **TECH（テクニカル）**: 30%
  - トレンド、モメンタム、サポート/レジスタンス
- **FUND（ファンダメンタル）**: 25%
  - バリュエーション、成長性、収益性
- **MACRO（マクロ環境）**: 25%
  - セクタートレンド、経済指標
- **RISK（リスク管理）**: 20%
  - ボラティリティ、ドローダウン、VaR

### スコア計算例
```
総合スコア = TECH×0.3 + FUND×0.25 + MACRO×0.25 + RISK×0.2

例：TSLA
TECH: 4.2 × 0.3 = 1.26
FUND: 3.1 × 0.25 = 0.78
MACRO: 3.8 × 0.25 = 0.95
RISK: 3.5 × 0.2 = 0.70
総合: 3.69 → 🟢 買い推奨
```

## トラブルシューティング

### よくある問題

#### 1. streamlitコマンドが見つからない
```bash
# PATHに追加
export PATH=$PATH:~/.local/bin

# または直接実行
python -m streamlit run dashboard_enhanced.py
```

#### 2. データ取得エラー
- インターネット接続を確認
- yfinanceの制限（1分間に多数のリクエストは避ける）

#### 3. パフォーマンスが遅い
- キャッシュクリアボタンを押す
- 分析期間を短くする（30日など）

## 開発者向け情報

### ファイル構成
```
tiker/
├── dashboard.py               # 基本版ダッシュボード
├── dashboard_enhanced.py      # 強化版ダッシュボード（推奨）
├── unified_stock_analyzer.py  # 既存の分析エンジン
├── stock_analyzer_lib.py      # 共通ライブラリ
├── cache_manager.py           # キャッシュ管理
└── requirements.txt           # 依存関係
```

### カスタマイズ方法

#### 銘柄の追加/変更
`dashboard_enhanced.py`の`portfolio`辞書を編集：
```python
self.portfolio = {
    'AAPL': {'weight': 15, 'name': 'Apple Inc', 'sector': 'Tech', 'color': '#000000'},
    # 新しい銘柄を追加
}
```

#### エントリーシグナルの調整
`signals`辞書のthreshold値を変更：
```python
'BUY': {
    'threshold': 3.5,  # この値を調整
}
```

## 今後の機能追加予定

- 📱 モバイル対応UI
- 🔔 アラート通知機能
- 📊 ポートフォリオ最適化提案
- 🤖 AI予測機能
- 📧 レポート自動送信

## サポート

問題が発生した場合は、以下を確認してください：
1. Python 3.8以上がインストールされているか
2. すべての依存関係がインストールされているか
3. インターネット接続が正常か

---

**免責事項**: このツールは教育・研究目的であり、投資助言ではありません。投資判断は自己責任で行ってください。